---
layout: 'layouts/default.njk'
eleventyComputed:
  title: '{{ title }} - Produce'
---

{%- import 'components/heading.njk' as heading %}
{%- import 'components/btn.njk' as btn %}

{%- macro dd(label='',data='') %}
<dd class="py-1 pl-2 text-sm flex items-center">
  <p class="flex-none">{{ label }}</p>
  <b class="mx-4 h-px text-black bg-current flex-1 opacity-10" aria-hidden="true"></b>
  <i class="text-base not-italic flex-none">{{ data }}</i>
</dd>
{%- endmacro %}

{%- macro dt(label='') %}
<dt class="py-1 px-2 border(b white opacity-30) bg(pri-500 opacity-25) text(xs gray-900) font-bold uppercase rounded-sm shadow-inner">
  {{ label }}
</dt>
{%- endmacro %}

{% renderTemplate "md" %}
The following data charts represent pet statistic adjustments based on the produce you have placed in the feeding box in your pet sanctuary. The adjustments take affect immediately after your pet levels up. {.mb-10}
{% endrenderTemplate %}
<div class="pb-12" x-data="{ legend: false }">

    <p class="text(sm) leading-none">
      {%- call btn.x(tag='button',click='legend = !legend') %}
        <span class="w-full flex items-center justify-center">
          <b :class="['opacity-50 transform motion-safe:(transition)', legend ? 'rotate-90' : '']"><i class="fa-regular fa-fw fa-angle-right"></i></b>
          <span x-text="legend ? 'Hide Legend' : 'Show Legend'" class="ml-1 normal-case"></span>
        </span>
      {%- endcall %}
    </p>

    <div x-show="legend" x-collapse>
      <div class="py-4 text-sm grid(& cols-1) gap-4 md:(grid-cols-2)">
        <div>
          <h3>Stats</h3>
          <dl class="">
            {%- for item in legend.pets.stats %}
            <dt>
              <strong>{{ item.title }}</strong>
            </dt>
            <dd class="mb-2 pb-2 border(b black opacity-10)">{{ item.desc }}</dd>
            {%- endfor %}
          </ul>
        </div>
        <div>
          <h3>Personality</h3>
          <dl class="">
            {%- for item in legend.pets.personality %}
            <dt>
              <strong>{{ item.title }}</strong>
            </dt>
            <dd class="mb-2 pb-2 border(b black opacity-10)">{{ item.desc }}</dd>
            {%- endfor %}
          </ul>
        </div>
      </div>
    </div>
  </div>

{%- for category, items in collections.produce | groupby('data.color') %}
  {%- if category === page.fileSlug %}
  {%- for item in items %}
  <section class="produce md:(grid(& cols-2) gap-8)" id="produce-{{ item.data.page.fileSlug }}">
    <div>
      {%- call heading.x(tag='h2',sub=title.replace(' - Produce', ''),img='/_assets/img/encyclopedias/produce/'+ item.data.page.fileSlug +'.png',border=false) %}
      {{ item.data.title }}
      {%- endcall %}
    </div>
    <div>
      {%- if item.data.stats %}
      <dl class="prod-stats mb-6">
        {{ dt(label='Pet Stats') }}
        {%- for key, value in item.data.stats %}
        {{ dd(label=key,data=value) }}
        {%- endfor %}
      </dl>
      {%- endif %}
      {%- if item.data.resist %}
      <dl class="prod-resist mb-6">
        {{ dt(label='Pet Resist') }}
        {%- for key, value in item.data.resist %}
        {{ dd(label=key,data=value) }}
        {%- endfor %}
      </dl>
      {%- endif %}
      {%- if item.data.personality %}
      <dl class="prod-personality mb-6">
        {{ dt(label='Pet Personality') }}
        {%- for key, value in item.data.personality %}
        {{ dd(label=key,data=value) }}
        {%- endfor %}
      </dl>
      {%- endif %}
      {%- if item.data.seeds %}
      <dl class="prod-seeds mb-6">
        {{ dt(label='Seed Formulas') }}
        {%- for key, value in item.data.seeds %}
        {{ dd(label=key,data=value+'%') }}
        {%- endfor %}
      </dl>
      {%- endif %}
    </div>
    {%- if loop.last %}{% else %}<hr class="my-12 md:(col-span-2)" />{%- endif %}
  </section>
  {%- endfor %}
  {%- endif %}
{% endfor %}
